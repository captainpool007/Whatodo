(this.webpackJsonpwhatodo=this.webpackJsonpwhatodo||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(17),r=a.n(i),c=a(7),l=a(2),m=a(41),d={items:[],editingItem:{}},s=a(6),u=a(27),f=a(3),p=a(42),b=a.n(p),E=function(e,t){switch(t.type){case"Add item":var a=b()(),n={value:t.payload.value,id:a,completed:!1};return Object(f.a)({},e,{items:[].concat(Object(u.a)(e.items),[n])});case"Cancel edit item":return e.items.length?Object(f.a)({},e,{editingItem:{}}):Object(f.a)({},e);case"Delete item":var o=e.items.filter((function(e){return e.id!==t.payload.id}));return Object(f.a)({},e,{items:o});case"Edit item":var i=e.items.map((function(e){return e.id===t.payload.modifiedItem.id&&(e.value=t.payload.modifiedItem.value),e}));return Object(f.a)({},e,{items:i,editingItem:{}});case"Item completion":var r=e.items.map((function(e){if(e.id===t.payload.modifiedItem.id){var a=Object(f.a)({},e);return a.completed=!a.completed,a}return e}));return Object(f.a)({},e,{items:r});case"Select edit item":var c=e.items.find((function(e){return e.id===t.payload.id}));return Object(f.a)({},e,{editingItem:c});case"Reorder item":var l=Object(u.a)(e.items),m=l.splice(t.payload.initialPosition,1),d=Object(s.a)(m,1)[0];return l.splice(t.payload.newPosition,0,d),Object(f.a)({},e,{items:l});default:return e}},v=function(e,t){switch(t.type){case"Load state from LocalStorage":var a=JSON.parse(window.localStorage.getItem("jata-state"));return a?Object(f.a)({},e,{items:a}):e;case"Saving state to Local Storage":return 0===t.payload.state.length?window.localStorage.removeItem("jata-state"):window.localStorage.setItem("jata-state",JSON.stringify(t.payload.state)),e;default:return e}},g=Object(m.a)(d,v,E),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(59),a(60),a(61),a(62);var N=a(4),y=a(5),w=(a(66),function(e){var t=e.className;return o.a.createElement("div",{className:t},o.a.createElement("div",{className:"header__container"},o.a.createElement("nav",{className:"navbar"},o.a.createElement("span",{className:"header__span navbar-brand"},o.a.createElement(N.a,{className:"d-inline-block",icon:y.d,size:"lg",alt:"List emoji"})),o.a.createElement("span",{className:"header__span"},"WHAtodo"))))}),O=a(20),j=function(e){var t=e.handleAddItem,a=Object(n.useState)(""),i=Object(s.a)(a,2),r=i[0],c=i[1];return o.a.createElement("div",null,o.a.createElement("form",{method:"POST",autoComplete:"on",onSubmit:function(e){e.preventDefault(),t(r),c("")}},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col"},o.a.createElement("input",{type:"text",className:"form-control",id:"new-todo-item",name:"new-todo-item",placeholder:"I want to do...","aria-label":"Todo item description",value:r,onChange:function(e){return c(e.target.value)},autoFocus:!0})),o.a.createElement("div",{className:"col-auto"},o.a.createElement("button",{type:"submit","data-testid":"form-submit",className:"btn btn-primary",disabled:!r,"aria-label":"Add todo item"},o.a.createElement(N.a,{icon:y.e}))))))},I={handleAddItem:function(e){return{type:"Add item",payload:{value:e}}}},S=Object(l.b)(null,I)((function(e){return o.a.createElement(j,e)})),k=(a(67),function(e){var t=Object(n.useState)(e.item.value),a=Object(s.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){return window.addEventListener("keyup",c),function(){window.removeEventListener("keyup",c)}}));var c=function(t){"Escape"===t.code&&e.handleCancelEditItem(t)};return o.a.createElement("li",{className:"form_edit__component list-group-item"},o.a.createElement("form",{method:"POST",onSubmit:function(t){t.preventDefault(),e.handleEditItem(Object(f.a)({},e.item,{value:i})),r("")}},o.a.createElement("div",{className:"form-row"},o.a.createElement("div",{className:"col"},o.a.createElement("input",{type:"text",className:"form-control",id:"input-edit-todo-item",name:"edit-todo-item",value:i,onChange:function(e){return r(e.target.value)},autoFocus:!0})),o.a.createElement("div",{className:"col-auto"},o.a.createElement("button",{"data-testid":"form-edit-submit-button",type:"submit",id:"submit-edit-todo-item",className:"btn btn-primary form_edit__button--first",disabled:!i},o.a.createElement(N.a,{icon:y.a})),o.a.createElement("button",{"data-testid":"form-edit-cancel-edit-button",id:"cancel-edit-todo-item",type:"button",className:"btn btn-danger",onClick:e.handleCancelEditItem},o.a.createElement(N.a,{icon:y.g}))))))}),L={handleCancelEditItem:function(){return{type:"Cancel edit item",payload:{}}},handleEditItem:function(e){return{type:"Edit item",payload:{modifiedItem:e}}}},C=Object(l.b)(null,L)((function(e){return o.a.createElement(k,e)})),x=(a(68),a(69),function(e){return o.a.createElement("div",{className:"property_bar__component"},o.a.createElement("button",{"data-testid":"property-bar-edit-button",className:"btn btn-secondary property_bar__button",onClick:function(){return e.handleSelectEditItem(e.id)}},o.a.createElement(N.a,{icon:y.c,size:"sm"})),o.a.createElement("button",{"data-testid":"property-bar-delete-button",className:"btn btn-danger property_bar__button",onClick:function(){return e.handleDeleteItem(e.id)}},o.a.createElement(N.a,{icon:y.h,size:"sm"})))}),R={handleDeleteItem:function(e){return{type:"Delete item",payload:{id:e}}},handleSelectEditItem:function(e){return{type:"Select edit item",payload:{id:e}}}},D=Object(l.b)(null,R)((function(e){return o.a.createElement(x,e)})),T=function(e){return o.a.createElement("span",null,e.isCompleted?o.a.createElement(N.a,{icon:y.b,size:"2x"}):o.a.createElement(N.a,{icon:y.f,size:"2x"}))},P=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],r=a[1],c=function(e){i!==e&&r(e)},l="form_item__component list-group-item form-control";return l=e.item.completed?l+" form_item__component-completed":l,o.a.createElement("li",{"data-testid":"form-item-listitem",className:l,onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},o.a.createElement("div",{className:"text-truncate","data-testid":"form-item-item-completion",onClick:function(){return e.handleItemCompletion(e.item)}},o.a.createElement("div",{className:"form_item__checkout d-inline-block"},o.a.createElement(T,{isCompleted:e.item.completed})),o.a.createElement("span",{className:"form_item__text"},e.item.value)),i?o.a.createElement(D,{id:e.item.id}):null)},A={handleItemCompletion:function(e){return{type:"Item completion",payload:{modifiedItem:e}}}},W=Object(l.b)(null,A)((function(e){return o.a.createElement(P,e)})),z=(a(70),function(e){return o.a.createElement("div",{className:e.className},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-12 col-md-9 col-lg-7 col-xl-6"},o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},"Welcome!"),o.a.createElement("p",{className:"card-text"},"To get started, add some items to your list:"),o.a.createElement("div",{className:"d-inline-block"},o.a.createElement(S,null)))))),e.items.length?o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-12 col-md-9 col-lg-7 col-xl-6"},o.a.createElement("div",{className:"content__todos"},o.a.createElement("ul",{className:"list-group content__todos__ul"},o.a.createElement(O.a,{onDragEnd:function(t){t.destination&&e.handleReorderItem(t.source.index,t.destination.index)}},o.a.createElement(O.c,{droppableId:"droppable"},(function(t){return o.a.createElement("div",{ref:t.innerRef},e.items.map((function(t,a){return o.a.createElement(O.b,{key:t.id,draggableId:t.id,index:a},(function(a){return o.a.createElement("div",Object.assign({ref:a.innerRef,"data-testid":"content-draggable-item"},a.draggableProps,a.dragHandleProps,{className:"content__todos__li"}),e.editingItem.id===t.id?o.a.createElement(C,{item:t}):o.a.createElement(W,{item:t}))}))})),t.placeholder)}))))))):null))}),J={handleReorderItem:function(e,t){return{type:"Reorder item",payload:{initialPosition:e,newPosition:t}}}},X=Object(l.b)((function(e){return{items:e.items,editingItem:e.editingItem}}),J)((function(e){return o.a.createElement(z,e)})),M=(a(105),function(e){var t=e.className;return o.a.createElement("div",{className:t},o.a.createElement("div",{className:"footer__container"},o.a.createElement("p",{className:"footer__p"},"Made using React + Redux -"," ",o.a.createElement("a",{href:"https://github.com/arthur-melo",rel:"noopener noreferrer",target:"_blank"},"@arthur-melo"))))}),U=function(){return o.a.createElement("div",{className:"app__container"},o.a.createElement(w,{className:"app__header"}),o.a.createElement(X,{className:"app__content"}),o.a.createElement(M,{className:"app__footer"}))},B={handleLoadStateLocalStorage:function(){return{type:"Load state from LocalStorage",payload:{}}},handleSaveStateLocalStorage:function(e){return{type:"Saving state to Local Storage",payload:{state:e}}}},F=Object(l.b)((function(e){return{items:e.items}}),B)((function(e){var t=e.handleLoadStateLocalStorage,a=e.handleSaveStateLocalStorage,i=e.items,r=Object(n.useState)(!1),c=Object(s.a)(r,2),l=c[0],m=c[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){t(),m(!0)}),[t]),Object(n.useEffect)((function(){if(l){if(!d.current)return void(d.current=-1);i.length!==d.current&&(a(i),0===i.length?d.current=-1:d.current=i.length)}}),[a,i,l]),o.a.createElement(U,null)})),H=Object(c.d)(g,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(o.a.createElement(l.a,{store:H},o.a.createElement(F,null)),document.getElementById("app")),function(){if("serviceWorker"in navigator){if(new URL("/todoapp",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/todoapp","/service-worker.js");h?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_(e)}))}}()},46:function(e,t,a){e.exports=a(106)},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.4f902d8f.chunk.js.map